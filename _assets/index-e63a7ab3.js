var Ht=Object.defineProperty;var Ut=(o,n,e)=>n in o?Ht(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e;var M=(o,n,e)=>(Ut(o,typeof n!="symbol"?n+"":n,e),e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fe=window,Be=fe.ShadowRoot&&(fe.ShadyCSS===void 0||fe.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,gt=Symbol(),Me=new WeakMap;let Mt=class{constructor(n,e,t){if(this._$cssResult$=!0,t!==gt)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=n,this.t=e}get styleSheet(){let n=this.o;const e=this.t;if(Be&&n===void 0){const t=e!==void 0&&e.length===1;t&&(n=Me.get(e)),n===void 0&&((this.o=n=new CSSStyleSheet).replaceSync(this.cssText),t&&Me.set(e,n))}return n}toString(){return this.cssText}};const jt=o=>new Mt(typeof o=="string"?o:o+"",void 0,gt),Vt=(o,n)=>{Be?o.adoptedStyleSheets=n.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet):n.forEach(e=>{const t=document.createElement("style"),i=fe.litNonce;i!==void 0&&t.setAttribute("nonce",i),t.textContent=e.cssText,o.appendChild(t)})},je=Be?o=>o:o=>o instanceof CSSStyleSheet?(n=>{let e="";for(const t of n.cssRules)e+=t.cssText;return jt(e)})(o):o;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var xe;const ve=window,Ve=ve.trustedTypes,zt=Ve?Ve.emptyScript:"",ze=ve.reactiveElementPolyfillSupport,Ce={toAttribute(o,n){switch(n){case Boolean:o=o?zt:null;break;case Object:case Array:o=o==null?o:JSON.stringify(o)}return o},fromAttribute(o,n){let e=o;switch(n){case Boolean:e=o!==null;break;case Number:e=o===null?null:Number(o);break;case Object:case Array:try{e=JSON.parse(o)}catch{e=null}}return e}},vt=(o,n)=>n!==o&&(n==n||o==o),Se={attribute:!0,type:String,converter:Ce,reflect:!1,hasChanged:vt},Ie="finalized";let ne=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(n){var e;this.finalize(),((e=this.h)!==null&&e!==void 0?e:this.h=[]).push(n)}static get observedAttributes(){this.finalize();const n=[];return this.elementProperties.forEach((e,t)=>{const i=this._$Ep(t,e);i!==void 0&&(this._$Ev.set(i,t),n.push(i))}),n}static createProperty(n,e=Se){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(n,e),!e.noAccessor&&!this.prototype.hasOwnProperty(n)){const t=typeof n=="symbol"?Symbol():"__"+n,i=this.getPropertyDescriptor(n,t,e);i!==void 0&&Object.defineProperty(this.prototype,n,i)}}static getPropertyDescriptor(n,e,t){return{get(){return this[e]},set(i){const r=this[n];this[e]=i,this.requestUpdate(n,r,t)},configurable:!0,enumerable:!0}}static getPropertyOptions(n){return this.elementProperties.get(n)||Se}static finalize(){if(this.hasOwnProperty(Ie))return!1;this[Ie]=!0;const n=Object.getPrototypeOf(this);if(n.finalize(),n.h!==void 0&&(this.h=[...n.h]),this.elementProperties=new Map(n.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const i of t)this.createProperty(i,e[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(n){const e=[];if(Array.isArray(n)){const t=new Set(n.flat(1/0).reverse());for(const i of t)e.unshift(je(i))}else n!==void 0&&e.push(je(n));return e}static _$Ep(n,e){const t=e.attribute;return t===!1?void 0:typeof t=="string"?t:typeof n=="string"?n.toLowerCase():void 0}_$Eu(){var n;this._$E_=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(n=this.constructor.h)===null||n===void 0||n.forEach(e=>e(this))}addController(n){var e,t;((e=this._$ES)!==null&&e!==void 0?e:this._$ES=[]).push(n),this.renderRoot!==void 0&&this.isConnected&&((t=n.hostConnected)===null||t===void 0||t.call(n))}removeController(n){var e;(e=this._$ES)===null||e===void 0||e.splice(this._$ES.indexOf(n)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((n,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])})}createRenderRoot(){var n;const e=(n=this.shadowRoot)!==null&&n!==void 0?n:this.attachShadow(this.constructor.shadowRootOptions);return Vt(e,this.constructor.elementStyles),e}connectedCallback(){var n;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(n=this._$ES)===null||n===void 0||n.forEach(e=>{var t;return(t=e.hostConnected)===null||t===void 0?void 0:t.call(e)})}enableUpdating(n){}disconnectedCallback(){var n;(n=this._$ES)===null||n===void 0||n.forEach(e=>{var t;return(t=e.hostDisconnected)===null||t===void 0?void 0:t.call(e)})}attributeChangedCallback(n,e,t){this._$AK(n,t)}_$EO(n,e,t=Se){var i;const r=this.constructor._$Ep(n,t);if(r!==void 0&&t.reflect===!0){const s=(((i=t.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?t.converter:Ce).toAttribute(e,t.type);this._$El=n,s==null?this.removeAttribute(r):this.setAttribute(r,s),this._$El=null}}_$AK(n,e){var t;const i=this.constructor,r=i._$Ev.get(n);if(r!==void 0&&this._$El!==r){const s=i.getPropertyOptions(r),a=typeof s.converter=="function"?{fromAttribute:s.converter}:((t=s.converter)===null||t===void 0?void 0:t.fromAttribute)!==void 0?s.converter:Ce;this._$El=r,this[r]=a.fromAttribute(e,s.type),this._$El=null}}requestUpdate(n,e,t){let i=!0;n!==void 0&&(((t=t||this.constructor.getPropertyOptions(n)).hasChanged||vt)(this[n],e)?(this._$AL.has(n)||this._$AL.set(n,e),t.reflect===!0&&this._$El!==n&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(n,t))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const n=this.scheduleUpdate();return n!=null&&await n,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,r)=>this[r]=i),this._$Ei=void 0);let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),(n=this._$ES)===null||n===void 0||n.forEach(i=>{var r;return(r=i.hostUpdate)===null||r===void 0?void 0:r.call(i)}),this.update(t)):this._$Ek()}catch(i){throw e=!1,this._$Ek(),i}e&&this._$AE(t)}willUpdate(n){}_$AE(n){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var i;return(i=t.hostUpdated)===null||i===void 0?void 0:i.call(t)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(n)),this.updated(n)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(n){return!0}update(n){this._$EC!==void 0&&(this._$EC.forEach((e,t)=>this._$EO(t,this[t],e)),this._$EC=void 0),this._$Ek()}updated(n){}firstUpdated(n){}};ne[Ie]=!0,ne.elementProperties=new Map,ne.elementStyles=[],ne.shadowRootOptions={mode:"open"},ze==null||ze({ReactiveElement:ne}),((xe=ve.reactiveElementVersions)!==null&&xe!==void 0?xe:ve.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ee;const ye=window,re=ye.trustedTypes,We=re?re.createPolicy("lit-html",{createHTML:o=>o}):void 0,ke="$lit$",z=`lit$${(Math.random()+"").slice(9)}$`,yt="?"+z,Wt=`<${yt}>`,ee=document,de=()=>ee.createComment(""),he=o=>o===null||typeof o!="object"&&typeof o!="function",mt=Array.isArray,Gt=o=>mt(o)||typeof(o==null?void 0:o[Symbol.iterator])=="function",_e=`[ 	
\f\r]`,ae=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ge=/-->/g,Ye=/>/g,K=RegExp(`>|${_e}(?:([^\\s"'>=/]+)(${_e}*=${_e}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Je=/'/g,Ke=/"/g,bt=/^(?:script|style|textarea|title)$/i,Yt=o=>(n,...e)=>({_$litType$:o,strings:n,values:e}),xt=Yt(1),se=Symbol.for("lit-noChange"),k=Symbol.for("lit-nothing"),Xe=new WeakMap,X=ee.createTreeWalker(ee,129,null,!1);function St(o,n){if(!Array.isArray(o)||!o.hasOwnProperty("raw"))throw Error("invalid template strings array");return We!==void 0?We.createHTML(n):n}const Jt=(o,n)=>{const e=o.length-1,t=[];let i,r=n===2?"<svg>":"",s=ae;for(let a=0;a<e;a++){const l=o[a];let c,d,u=-1,p=0;for(;p<l.length&&(s.lastIndex=p,d=s.exec(l),d!==null);)p=s.lastIndex,s===ae?d[1]==="!--"?s=Ge:d[1]!==void 0?s=Ye:d[2]!==void 0?(bt.test(d[2])&&(i=RegExp("</"+d[2],"g")),s=K):d[3]!==void 0&&(s=K):s===K?d[0]===">"?(s=i??ae,u=-1):d[1]===void 0?u=-2:(u=s.lastIndex-d[2].length,c=d[1],s=d[3]===void 0?K:d[3]==='"'?Ke:Je):s===Ke||s===Je?s=K:s===Ge||s===Ye?s=ae:(s=K,i=void 0);const y=s===K&&o[a+1].startsWith("/>")?" ":"";r+=s===ae?l+Wt:u>=0?(t.push(c),l.slice(0,u)+ke+l.slice(u)+z+y):l+z+(u===-2?(t.push(void 0),a):y)}return[St(o,r+(o[e]||"<?>")+(n===2?"</svg>":"")),t]};let Pe=class Et{constructor({strings:n,_$litType$:e},t){let i;this.parts=[];let r=0,s=0;const a=n.length-1,l=this.parts,[c,d]=Jt(n,e);if(this.el=Et.createElement(c,t),X.currentNode=this.el.content,e===2){const u=this.el.content,p=u.firstChild;p.remove(),u.append(...p.childNodes)}for(;(i=X.nextNode())!==null&&l.length<a;){if(i.nodeType===1){if(i.hasAttributes()){const u=[];for(const p of i.getAttributeNames())if(p.endsWith(ke)||p.startsWith(z)){const y=d[s++];if(u.push(p),y!==void 0){const b=i.getAttribute(y.toLowerCase()+ke).split(z),w=/([.?@])?(.*)/.exec(y);l.push({type:1,index:r,name:w[2],strings:b,ctor:w[1]==="."?Xt:w[1]==="?"?en:w[1]==="@"?tn:be})}else l.push({type:6,index:r})}for(const p of u)i.removeAttribute(p)}if(bt.test(i.tagName)){const u=i.textContent.split(z),p=u.length-1;if(p>0){i.textContent=re?re.emptyScript:"";for(let y=0;y<p;y++)i.append(u[y],de()),X.nextNode(),l.push({type:2,index:++r});i.append(u[p],de())}}}else if(i.nodeType===8)if(i.data===yt)l.push({type:2,index:r});else{let u=-1;for(;(u=i.data.indexOf(z,u+1))!==-1;)l.push({type:7,index:r}),u+=z.length-1}r++}}static createElement(n,e){const t=ee.createElement("template");return t.innerHTML=n,t}};function oe(o,n,e=o,t){var i,r,s,a;if(n===se)return n;let l=t!==void 0?(i=e._$Co)===null||i===void 0?void 0:i[t]:e._$Cl;const c=he(n)?void 0:n._$litDirective$;return(l==null?void 0:l.constructor)!==c&&((r=l==null?void 0:l._$AO)===null||r===void 0||r.call(l,!1),c===void 0?l=void 0:(l=new c(o),l._$AT(o,e,t)),t!==void 0?((s=(a=e)._$Co)!==null&&s!==void 0?s:a._$Co=[])[t]=l:e._$Cl=l),l!==void 0&&(n=oe(o,l._$AS(o,n.values),l,t)),n}let Kt=class{constructor(n,e){this._$AV=[],this._$AN=void 0,this._$AD=n,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(n){var e;const{el:{content:t},parts:i}=this._$AD,r=((e=n==null?void 0:n.creationScope)!==null&&e!==void 0?e:ee).importNode(t,!0);X.currentNode=r;let s=X.nextNode(),a=0,l=0,c=i[0];for(;c!==void 0;){if(a===c.index){let d;c.type===2?d=new He(s,s.nextSibling,this,n):c.type===1?d=new c.ctor(s,c.name,c.strings,this,n):c.type===6&&(d=new nn(s,this,n)),this._$AV.push(d),c=i[++l]}a!==(c==null?void 0:c.index)&&(s=X.nextNode(),a++)}return X.currentNode=ee,r}v(n){let e=0;for(const t of this._$AV)t!==void 0&&(t.strings!==void 0?(t._$AI(n,t,e),e+=t.strings.length-2):t._$AI(n[e])),e++}},He=class _t{constructor(n,e,t,i){var r;this.type=2,this._$AH=k,this._$AN=void 0,this._$AA=n,this._$AB=e,this._$AM=t,this.options=i,this._$Cp=(r=i==null?void 0:i.isConnected)===null||r===void 0||r}get _$AU(){var n,e;return(e=(n=this._$AM)===null||n===void 0?void 0:n._$AU)!==null&&e!==void 0?e:this._$Cp}get parentNode(){let n=this._$AA.parentNode;const e=this._$AM;return e!==void 0&&(n==null?void 0:n.nodeType)===11&&(n=e.parentNode),n}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(n,e=this){n=oe(this,n,e),he(n)?n===k||n==null||n===""?(this._$AH!==k&&this._$AR(),this._$AH=k):n!==this._$AH&&n!==se&&this._(n):n._$litType$!==void 0?this.g(n):n.nodeType!==void 0?this.$(n):Gt(n)?this.T(n):this._(n)}k(n){return this._$AA.parentNode.insertBefore(n,this._$AB)}$(n){this._$AH!==n&&(this._$AR(),this._$AH=this.k(n))}_(n){this._$AH!==k&&he(this._$AH)?this._$AA.nextSibling.data=n:this.$(ee.createTextNode(n)),this._$AH=n}g(n){var e;const{values:t,_$litType$:i}=n,r=typeof i=="number"?this._$AC(n):(i.el===void 0&&(i.el=Pe.createElement(St(i.h,i.h[0]),this.options)),i);if(((e=this._$AH)===null||e===void 0?void 0:e._$AD)===r)this._$AH.v(t);else{const s=new Kt(r,this),a=s.u(this.options);s.v(t),this.$(a),this._$AH=s}}_$AC(n){let e=Xe.get(n.strings);return e===void 0&&Xe.set(n.strings,e=new Pe(n)),e}T(n){mt(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let t,i=0;for(const r of n)i===e.length?e.push(t=new _t(this.k(de()),this.k(de()),this,this.options)):t=e[i],t._$AI(r),i++;i<e.length&&(this._$AR(t&&t._$AB.nextSibling,i),e.length=i)}_$AR(n=this._$AA.nextSibling,e){var t;for((t=this._$AP)===null||t===void 0||t.call(this,!1,!0,e);n&&n!==this._$AB;){const i=n.nextSibling;n.remove(),n=i}}setConnected(n){var e;this._$AM===void 0&&(this._$Cp=n,(e=this._$AP)===null||e===void 0||e.call(this,n))}},be=class{constructor(n,e,t,i,r){this.type=1,this._$AH=k,this._$AN=void 0,this.element=n,this.name=e,this._$AM=i,this.options=r,t.length>2||t[0]!==""||t[1]!==""?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=k}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(n,e=this,t,i){const r=this.strings;let s=!1;if(r===void 0)n=oe(this,n,e,0),s=!he(n)||n!==this._$AH&&n!==se,s&&(this._$AH=n);else{const a=n;let l,c;for(n=r[0],l=0;l<r.length-1;l++)c=oe(this,a[t+l],e,l),c===se&&(c=this._$AH[l]),s||(s=!he(c)||c!==this._$AH[l]),c===k?n=k:n!==k&&(n+=(c??"")+r[l+1]),this._$AH[l]=c}s&&!i&&this.j(n)}j(n){n===k?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,n??"")}},Xt=class extends be{constructor(){super(...arguments),this.type=3}j(n){this.element[this.name]=n===k?void 0:n}};const Zt=re?re.emptyScript:"";let en=class extends be{constructor(){super(...arguments),this.type=4}j(n){n&&n!==k?this.element.setAttribute(this.name,Zt):this.element.removeAttribute(this.name)}},tn=class extends be{constructor(n,e,t,i,r){super(n,e,t,i,r),this.type=5}_$AI(n,e=this){var t;if((n=(t=oe(this,n,e,0))!==null&&t!==void 0?t:k)===se)return;const i=this._$AH,r=n===k&&i!==k||n.capture!==i.capture||n.once!==i.once||n.passive!==i.passive,s=n!==k&&(i===k||r);r&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,n),this._$AH=n}handleEvent(n){var e,t;typeof this._$AH=="function"?this._$AH.call((t=(e=this.options)===null||e===void 0?void 0:e.host)!==null&&t!==void 0?t:this.element,n):this._$AH.handleEvent(n)}};class nn{constructor(n,e,t){this.element=n,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}get _$AU(){return this._$AM._$AU}_$AI(n){oe(this,n)}}const Ze=ye.litHtmlPolyfillSupport;Ze==null||Ze(Pe,He),((Ee=ye.litHtmlVersions)!==null&&Ee!==void 0?Ee:ye.litHtmlVersions=[]).push("2.8.0");const rn=(o,n,e)=>{var t,i;const r=(t=e==null?void 0:e.renderBefore)!==null&&t!==void 0?t:n;let s=r._$litPart$;if(s===void 0){const a=(i=e==null?void 0:e.renderBefore)!==null&&i!==void 0?i:null;r._$litPart$=s=new He(n.insertBefore(de(),a),a,void 0,e??{})}return s._$AI(o),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var we,Ae;let ie=class extends ne{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n,e;const t=super.createRenderRoot();return(n=(e=this.renderOptions).renderBefore)!==null&&n!==void 0||(e.renderBefore=t.firstChild),t}update(n){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(n),this._$Do=rn(e,this.renderRoot,this.renderOptions)}connectedCallback(){var n;super.connectedCallback(),(n=this._$Do)===null||n===void 0||n.setConnected(!0)}disconnectedCallback(){var n;super.disconnectedCallback(),(n=this._$Do)===null||n===void 0||n.setConnected(!1)}render(){return se}};ie.finalized=!0,ie._$litElement$=!0,(we=globalThis.litElementHydrateSupport)===null||we===void 0||we.call(globalThis,{LitElement:ie});const et=globalThis.litElementPolyfillSupport;et==null||et({LitElement:ie});((Ae=globalThis.litElementVersions)!==null&&Ae!==void 0?Ae:globalThis.litElementVersions=[]).push("3.3.3");class wt extends ie{constructor(){super(),this.setupFullscreenButton(),this.setupNavigationButtons(),this.setupKeyboardControls()}get counterCurrent(){return this.querySelector("[data-lightbox-counter-current]")}get counterTotal(){return this.querySelector("[data-lightbox-counter-total]")}get fullscreenButton(){return this.querySelector("[data-lightbox-fullscreen]")}get nextButton(){return this.querySelector("[data-lightbox-next]")}get previousButton(){return this.querySelector("[data-lightbox-previous]")}get slides(){return this.querySelectorAll("[data-lightbox-slide]")}get slideIds(){return Array.from(this.slides).map(n=>n.dataset.lightboxSlideId)}get currentSlide(){if(this.slides.length)return this.currentId?this.slides[this.currentSlideIndex]:this.slides[0]}get currentSlideIndex(){if(this.slides.length)return this.currentId?this.slideIds.findIndex(n=>n===this.currentId):0}get fullscreen(){return document.fullscreen||this.wrapper.classList.contains("quire-entry__lightbox--fullscreen")}get wrapper(){return document.querySelector(".quire-entry__lightbox")}enterFullscreen(){const n=this.renderRoot.firstElementChild;n.requestFullscreen?n.requestFullscreen():(this.wrapper.classList.add("quire-entry__lightbox--fullscreen"),document.body.style.position="fixed",document.body.style.top=`-${window.scrollY}px`)}exitFullscreen(){document.exitFullscreen?document.exitFullscreen():(this.wrapper.classList.remove("quire-entry__lightbox--fullscreen"),document.body.style.position="",document.body.style.top="")}next(){if(!this.slides.length)return;const n=this.currentSlideIndex+1,e=this.slideIds[n%this.slides.length];this.currentId=e}previous(){if(!this.slides.length)return;const n=this.currentSlideIndex-1,e=this.slideIds.slice(n)[0];this.currentId=e}setupFullscreenButton(){this.fullscreenButton&&this.fullscreenButton.addEventListener("click",()=>{this.toggleFullscreen()})}setupNavigationButtons(){!this.nextButton||!this.previousButton||(this.nextButton.addEventListener("click",()=>{this.next()}),this.previousButton.addEventListener("click",()=>{this.previous()}))}setupKeyboardControls(){document.addEventListener("keyup",({code:n})=>{if(this.slides.length>1)switch(n){default:break;case"ArrowRight":this.next();break;case"ArrowLeft":this.previous();break}})}toggleFullscreen(){this.updateFullscreenButton(),this.fullscreen?this.exitFullscreen():this.enterFullscreen()}updateCounterElements(){!this.counterCurrent||!this.counterTotal||(this.counterCurrent.innerText=this.currentSlideIndex+1,this.counterTotal.innerText=this.slides.length)}updateCurrentSlideElement(){this.currentSlide&&(this.slides.forEach(n=>{n.dataset.lightboxSlideId!==this.currentId&&delete n.dataset.lightboxCurrent}),this.currentSlide.dataset.lightboxCurrent=!0)}updateFullscreenButton(){this.fullscreenButton&&(this.fullscreenButton.dataset.lightboxFullscreen=!this.fullscreen)}render(){return this.slides.length?(this.currentId=this.slideIds[this.currentSlideIndex],this.updateCurrentSlideElement(),this.updateCounterElements(),xt`
      <div class="q-lightbox">
        <slot></slot>
      </div>
    `):""}}M(wt,"properties",{currentId:{attribute:"current-id",type:String}});customElements.define("q-lightbox",wt);class At extends ie{get closeButton(){return this.querySelector("[data-modal-close]")}get lightbox(){return this.querySelector("q-lightbox")}constructor(){super(),this.setupKeyboardControls(),this.setupModalTriggers()}close(){this.active=!1,this.currentId=null,this.updateLightboxCurrentId(),this.enableScrolling()}disableScrolling(){document.querySelector("html").style.overflow="hidden"}enableScrolling(){document.querySelector("html").style.overflow="auto"}getCurrentFigureId(n){const{target:e}=n;let t=e;for(;!t.matches("figure")&&!t.getAttribute("id");)t=t.parentNode;return t.getAttribute("id")}open(n){this.currentId=this.getCurrentFigureId(n),this.active=!0,this.updateLightboxCurrentId(),this.disableScrolling()}setupCloseButton(){this.closeButton&&this.closeButton.addEventListener("click",()=>{this.close()})}setupKeyboardControls(){document.addEventListener("keyup",({code:n})=>{this.active&&n==="Escape"&&this.close()})}setupModalTriggers(){document.querySelectorAll(".q-figure__modal-link").forEach(n=>{n.addEventListener("click",e=>{e.preventDefault(),this.open(e)})})}updateLightboxCurrentId(){this.lightbox&&this.lightbox.setAttribute("current-id",this.currentId)}render(){return this.dataset.modalActive=this.active,this.setupCloseButton(),xt`
      <div class="q-modal">
        <slot></slot>
      </div>
    `}}M(At,"properties",{active:{type:Boolean},currentId:{attribute:"current-id",type:String}});customElements.define("q-modal",At);const sn=(o,n,e={})=>{const t={root:document.querySelector(".quire-entry__content"),rootMargin:"-50% 0% -50% 0%",threshold:0,...e},i=s=>{s.forEach(a=>{a.isIntersecting&&n()})};new IntersectionObserver(i,t).observe(o)};var N;const L=(N=class{constructor(n){this.copyLinkButton=n.querySelector(".accordion-section__copy-link-button"),this.element=n,this.id=n.getAttribute("id"),this.globalExpand=document.querySelector(".global-accordion-expand-all"),this.globalCollapse=document.querySelector(".global-accordion-collapse-all"),this.tooltip=n.querySelector(".accordion-tooltip")}get parentAccordions(){return Array.from(L.elements).filter(n=>n.contains(this.element)&&n!=this.element)}static setGlobalControls(){if(!(!!L.globalCollapse&&!!L.globalExpand))return;const e=this.globalControlsState,t=L.elements.length,i=Array.from(L.elements).filter(s=>s.getAttribute("open")===null).length,r=()=>{let s;switch(!0){case i===t:s="allClosed";break;case i===0:s="allOpen";break;default:s="mixed";break}return s};if(e!==r())switch(this.globalControlsState=r(),this.globalControlsState){case"allClosed":L.globalExpand.classList.remove("visually-hidden"),L.globalCollapse.classList.add("visually-hidden");break;case"allOpen":L.globalExpand.classList.add("visually-hidden"),L.globalCollapse.classList.remove("visually-hidden");break;default:L.globalCollapse.classList.remove("visually-hidden"),L.globalExpand.classList.remove("visually-hidden");break}}static setup(){L.elements.length&&(L.elements.forEach(n=>{new L(n).init()}),L.setGlobalControls())}addEventListeners(){this.copyLinkButton.addEventListener("click",this.copyLink.bind(this)),this.element.addEventListener("toggle",L.setGlobalControls.bind(this)),L.globalExpand&&L.globalExpand.addEventListener("click",this.open.bind(this)),L.globalCollapse&&L.globalCollapse.addEventListener("click",this.close.bind(this))}close(){this.element.removeAttribute("open"),L.setGlobalControls()}copyLink(){if(this.copying)return;this.copying=!0;const n=this.copyLinkButton.getAttribute("value"),{origin:e,pathname:t}=window.location;this.tooltip.classList.add("accordion-tooltip--active");try{const i=new URL(t+n,e);navigator.clipboard.writeText(i),window.history.replaceState({},"",i),setTimeout(()=>{this.tooltip.classList.remove("accordion-tooltip--active"),this.copying=!1},2e3)}catch(i){console.error("Error copying heading link: ",i)}}init(){this.addEventListeners(),this.setStateFromUrl()}open(){this.element.setAttribute("open",!0),L.setGlobalControls()}setStateFromUrl(){const n=window.location.hash.replace(/^#/,"");if(!n)return;const e=document.querySelector(window.location.hash);(n===this.id||this.element.contains(e))&&(this.open(),this.parentAccordions&&this.parentAccordions.length&&this.parentAccordions.forEach(t=>t.setAttribute("open",!0)))}},M(N,"className","accordion-section"),M(N,"globalExpand",document.querySelector(".global-accordion-expand-all")),M(N,"globalCollapse",document.querySelector(".global-accordion-collapse-all")),M(N,"elements",document.querySelectorAll(`.${N.className}`)),M(N,"partOfAccordion",n=>n.closest(`.${N.className}`)),N),on=({callback:o,interval:n=200,maxTries:e=10,tries:t=0,validate:i})=>{const r=()=>{if(t===e){console.error("Polling reached maximum number of attempts");return}t++,i()?o():setTimeout(r,n)};r()};function an(o,n=null,e=null){const t=document.querySelector(".quire-navbar"),i=7,r=t?o-t.clientHeight-i:o-i;[document.documentElement,document.body.parentNode,document.body].forEach(a=>{a.scrollTop=r})}const Ue=o=>{if(!o)return;o=o.replace(":","\\:"),o=o.replace(".","\\.");const n=document.querySelector(o);if(n){L.partOfAccordion(n)&&new L(n.closest(`.${L.className}`)).setStateFromUrl();const e=n.getBoundingClientRect().top+window.scrollY;an(e),setTimeout(()=>n.focus())}},$t=o=>({checked:o.checked,id:o.getAttribute("value"),input:o.getAttribute("type"),type:o.getAttribute("data-annotation-type")}),Lt=o=>{if(!o)return;const n=o.querySelector("canvas-panel"),e=o.querySelector("image-sequence"),t=o.querySelector("image-service");return n?n.getAttribute("canvas-id"):t?t.getAttribute("src"):e?e.getAttribute("sequence-id"):void 0},tt=o=>{const[n,e,t,i]=o.split(",").map(r=>parseInt(r.trim()));return{x:n,y:e,width:t,height:i}},Te=function({annotationIds:o=[],figureId:n,historyBehavior:e="push",region:t,sequence:i={}}){if(!n){console.error("goToFigureState called without an undefined figureId");return}const r=`#${n}`,s=`[data-lightbox-slide-id="${n}"]`,a=document.querySelector(r),l=document.querySelector(s),c=Lt(a||l);if(!a&&!l||!c)return;const u=[...document.querySelectorAll(`#${n} .annotations-ui__input, [data-lightbox-slide-id="${n}"] .annotations-ui__input`)].map(E=>{const S=E.getAttribute("data-annotation-id");return E.checked=o.includes(S),$t(E)});if(l){const E=l.closest("q-lightbox");E.currentId=n}L.elements.forEach(E=>{E.contains(a)&&E.setAttribute("open",!0)}),Ct(c,{annotations:u,region:t||"reset",sequence:i});const p=new URL(window.location.pathname,window.location.origin);p.hash=n,Ue(p.hash);const y=new URLSearchParams(o.map(E=>["annotation-id",encodeURIComponent(E)]));t&&y.set("region",encodeURIComponent(t)),Number.isInteger(parseInt(i.index))&&y.set("sequence-index",encodeURIComponent(i.index));const b=y.toString(),w=[p.pathname];b&&w.push(b);const A=[{},"",`${w.join("?")}${p.hash}`];e==="replace"?window.history.replaceState(...A):window.history.pushState(...A)},nt=o=>{const n=o.getAttribute("id"),e=Lt(o.closest(".q-figure, .q-lightbox-slides__slide")),t=document.querySelector("q-lightbox").contains(o),i=$t(o),{checked:r,input:s,type:a}=i;if(t){const l=document.querySelector(`#${n.split("lightbox-")[1]}`);l&&(l.checked=o.checked)}else{const l=document.querySelector(`#${["lightbox",n].join("-")}`);l&&(l.checked=o.checked)}if(s==="checkbox"&&a==="choice"){const l=o.closest("form"),c=l.querySelectorAll(".annotations-ui__input[checked]");if(!r&&c.length===1&&c[0].setAttribute("disabled",!0),r){const d=l.querySelector("[disabled]");d&&d.removeAttribute("disabled")}}Ct(e,{annotations:[i]})},ln=(o,n)=>{const{checked:e,id:t,type:i}=n;switch(i){case"annotation":o.applyStyles(t,{opacity:+!!e});break;case"choice":on({callback:()=>cn(o,n),validate:()=>!!o.makeChoice});break}},cn=(o,n)=>{const{checked:e,id:t,input:i}=n;o.setAttribute("choice-id",t),o.makeChoice(t,{deselect:!e,deselectOthers:i==="radio"})},un=()=>{const o=document.querySelectorAll(".ref");for(const e of o){let t=e.getAttribute("data-annotation-ids");t=t.length?t.split(","):void 0;const i=e.getAttribute("data-figure-id"),r={index:parseInt(e.getAttribute("data-sequence-index")),transition:parseInt(e.getAttribute("data-sequence-transition"))},s=e.getAttribute("data-region");e.getAttribute("data-on-scroll")==="true"?sn(e,()=>Te({annotationIds:t,figureId:i,historyBehavior:"replace",region:s,sequence:r})):e.addEventListener("click",({target:l})=>Te({annotationIds:t,figureId:i,region:s,sequence:r}))}const n=document.querySelectorAll(".annotations-ui__input");for(const e of n)nt(e),e.addEventListener("click",({target:t})=>nt(t))},Ct=(o,n)=>{const e=document.querySelectorAll(`canvas-panel[canvas-id="${o}"], image-service[src="${o}"], image-sequence[sequence-id="${o}"]`);e.length||console.error(`Failed to call update on canvas panel or image-service component with id ${o}. Element does not exist.`);const{annotations:t,region:i}=n;e.forEach(r=>{const s=r.tagName.toLowerCase()==="image-sequence";if(s&&dn(r,n),i&&!s){const a=tt(i&&i!=="reset"?i:r.getAttribute("region"));r.transition(l=>{l.goToRegion(a,{transition:{easing:r.easingFunctions().easeOutExpo,duration:2e3}})})}Array.isArray(t)&&t.forEach(a=>ln(r,a))})},dn=(o,{sequence:n={}})=>{const{index:e,transition:t}=n,i=parseInt(o.getAttribute("index")),r=parseInt(e);if(Number.isInteger(r)&&r>=0&&i!==r){if(t){o.setAttribute("transition",t),o.setAttribute("rotate-to-index",r);return}o.setAttribute("rotate-to-index",!1),o.setAttribute("index",r)}};function Z(o,n){var e;const i=(((e=o.ownerDocument)===null||e===void 0?void 0:e.defaultView)||window).getComputedStyle(o);return i.getPropertyValue(n)||i[n]}const te=96,$e=25.4,hn=72,pn=6;function Oe(o){return o?Z(o,"fontSize")||Oe(o.parentElement):Z(window.document.documentElement,"fontSize")}function fn(o){var n;const e=o||"0",t=parseFloat(e),i=e.match(/[\d-.]+(\w+)$/),r=(n=i==null?void 0:i[1])!==null&&n!==void 0?n:"";return[t,r.toLowerCase()]}function Re(o,n){var e,t;const i=(t=(e=n==null?void 0:n.ownerDocument)===null||e===void 0?void 0:e.defaultView)!==null&&t!==void 0?t:window,r=i.document.documentElement||i.document.body,[s,a]=fn(o);switch(a){case"rem":return s*Re(Oe(window.document.documentElement));case"em":return s*Re(Oe(n),n==null?void 0:n.parentElement);case"in":return s*te;case"q":return s*te/$e/4;case"mm":return s*te/$e;case"cm":return s*te*10/$e;case"pt":return s*te/hn;case"pc":return s*te/pn;case"vh":return(s*i.innerHeight||r.clientWidth)/100;case"vw":return(s*i.innerWidth||r.clientHeight)/100;case"vmin":return s*Math.min(i.innerWidth||r.clientWidth,i.innerHeight||r.clientHeight)/100;case"vmax":return s*Math.max(i.innerWidth||r.clientWidth,i.innerHeight||r.clientHeight)/100;default:return s}}function Qe(o,n=0){let e=0,t;return Object.assign((...r)=>{const s=Math.max(0,e+n-Date.now());s?(clearTimeout(t),t=setTimeout(()=>{e=Date.now(),o(...r)},s)):(e=Date.now(),o(...r))},{cancel:()=>{e=0,clearTimeout(t)}})}function j(o,n){o.classList.add(n)}function V(o,n){o.classList.remove(n)}function De(o){var n;(n=o.parentNode)===null||n===void 0||n.removeChild(o)}const It="littlefoot__tooltip",it="is-";function rt(o){const n=o.offsetHeight,e=o.getBoundingClientRect().top+n/2;return{above:e,below:window.innerHeight-e}}function Le(o){const n=parseFloat(Z(o,"marginLeft")),e=o.offsetWidth-n;return(o.getBoundingClientRect().left+e/2)/window.innerWidth}function st(o,n){const e=2*parseInt(Z(o,"marginTop"),10)+o.offsetHeight;return n.below<e&&n.below<n.above?"above":"below"}const le="is-active",ce="is-changing",ot="is-scrollable",at=o=>document.body.contains(o);function gn({id:o,button:n,content:e,host:t,popover:i,wrapper:r}){let s=!1,a=0,l="above";return{id:o,activate:c=>{var d;n.setAttribute("aria-expanded","true"),j(n,ce),j(n,le),n.insertAdjacentElement("afterend",i),i.style.maxWidth=document.body.clientWidth+"px",d=e,a=Math.round(Re(Z(d,"maxHeight"),d)),c==null||c(i,n)},dismiss:c=>{n.setAttribute("aria-expanded","false"),j(n,ce),V(n,le),V(i,le),c==null||c(i,n)},isActive:()=>n.classList.contains(le),isReady:()=>!n.classList.contains(ce),isHovered:()=>s,ready:()=>{j(i,le),V(n,ce)},remove:()=>{De(i),V(n,ce)},reposition:()=>{at(i)&&(e.style.maxHeight=function(c,d,u){const p=rt(d),y=st(c,p),b=parseInt(Z(c,"marginTop"),10);return Math.min(u,p[y]-b-15)}(i,n,a)+"px",l=function(c,d,u){const p=st(c,rt(d));if(u!==p){V(c,it+u),j(c,it+p);const y=100*Le(d)+"%",b=p==="above"?"100%":"0";c.style.transformOrigin=y+" "+b}return p}(i,n,l),i.offsetHeight<e.scrollHeight?(j(i,ot),e.setAttribute("tabindex","0")):(V(i,ot),e.removeAttribute("tabindex")))},resize:()=>{at(i)&&(i.style.left=function(c,d){const u=c.offsetWidth;return-Le(d)*u+parseInt(Z(d,"marginLeft"),10)+d.offsetWidth/2}(e,n)+"px",r.style.maxWidth=e.offsetWidth+"px",function(c,d){const u=c.querySelector("."+It);u&&(u.style.left=100*Le(d)+"%")}(i,n))},startHovering:()=>{s=!0},stopHovering:()=>{s=!1},destroy:()=>De(t)}}const vn=16,lt="is-fully-scrolled",yn=o=>n=>{const e=n.currentTarget,t=-n.deltaY;t>0&&V(o,lt),e&&t<=0&&t<e.clientHeight+e.scrollTop-e.scrollHeight&&j(o,lt)},kt="littlefoot__content",Pt="littlefoot__wrapper",me="littlefoot--print",mn="littlefoot",Tt=(...o)=>o.forEach(n=>j(n,me));function ge(o,n){return Array.from(o.querySelectorAll(n))}function ct(o,n){return o.querySelector("."+n)||o.firstElementChild||o}function Ne(o){const n=document.createElement("div");n.innerHTML=o;const e=n.firstElementChild;return e.remove(),e}function bn(o){return o!==void 0}function Ot(o){const n=o.parentElement,e=function(i,r){return Array.from(i.children).filter(s=>s.nodeType!==8&&s.matches(r))}(n,":not(."+me+")"),t=e.filter(i=>i.tagName==="HR");e.length===t.length&&(Tt(...t.concat(n)),Ot(n))}function Rt(o,n){const e=o.parentElement;De(o),e!==n&&(e.innerHTML.replace("[]","").replace("&nbsp;"," ").trim()||Rt(e,n))}function xn([o,n,e],t){const i=Ne(e.outerHTML);ge(i,'[href$="#'+o+'"]').forEach(s=>Rt(s,i));const r=i.innerHTML.trim();return[n,e,{id:String(t+1),number:t+1,reference:"lf-"+o,content:r.startsWith("<")?r:"<p>"+r+"</p>"}]}function ut(o){return n=>o.replace(/<%=?\s*(\w+?)\s*%>/g,(e,t)=>{var i;return String((i=n[t])!==null&&i!==void 0?i:"")})}function Sn(o,n){const e=ut(o),t=ut(n);return([i,r])=>{const s=r.id,a=Ne(`<span class="${mn}">${e(r)}</span>`),l=a.firstElementChild;l.setAttribute("aria-expanded","false"),l.dataset.footnoteButton="",l.dataset.footnoteId=s;const c=Ne(t(r));c.dataset.footnotePopover="",c.dataset.footnoteId=s;const d=ct(c,Pt),u=ct(c,kt);return function(p,y){p.addEventListener("wheel",Qe(yn(y),vn))}(u,c),i.insertAdjacentElement("beforebegin",a),{id:s,button:l,host:a,popover:c,content:u,wrapper:d}}}function En({allowDuplicates:o,anchorParentSelector:n,anchorPattern:e,buttonTemplate:t,contentTemplate:i,footnoteSelector:r,numberResetSelector:s,scope:a}){const l=function(c,d,u){return ge(c,u+' a[href*="#"]').filter(p=>(p.href+p.rel).match(d))}(document,e,a).map(function(c,d,u,p){const y=[];return b=>{const w=b.href.split("#")[1],A=ge(c,"#"+window.CSS.escape(w)).find(S=>d||!y.includes(S)),E=A==null?void 0:A.closest(p);if(E){y.push(E);const S=b.closest(u)||b;return[S.id||b.id,S,E]}}}(document,o,n,r)).filter(bn).map(xn).map(s?function(c){let d=0,u=null;return([p,y,b])=>{const w=p.closest(c);return d=u===w?d+1:1,u=w,[p,y,Object.assign(Object.assign({},b),{number:d})]}}(s):c=>c).map(([c,d,u])=>(Tt(c,d),Ot(d),[c,u])).map(Sn(t,i)).map(gn);return{footnotes:l,unmount(){l.forEach(c=>c.destroy()),ge(document,"."+me).forEach(c=>V(c,me))}}}const _n={activateDelay:100,activateOnHover:!1,allowDuplicates:!0,allowMultiple:!1,anchorParentSelector:"sup",anchorPattern:/(fn|footnote|note)[:\-_\d]/gi,dismissDelay:100,dismissOnUnhover:!1,dismissOnDocumentTouch:!0,footnoteSelector:"li",hoverDelay:250,numberResetSelector:"",scope:"",contentTemplate:`<aside class="littlefoot__popover" id="fncontent:<% id %>"><div class="${Pt}"><div class="${kt}"><% content %></div></div><div class="${It}"></div></aside>`,buttonTemplate:'<button class="littlefoot__button" id="<% reference %>" title="See Footnote <% number %>"><svg role="img" aria-labelledby="title-<% reference %>" viewbox="0 0 31 6" preserveAspectRatio="xMidYMid"><title id="title-<% reference %>">Footnote <% number %></title><circle r="3" cx="3" cy="3" fill="white"></circle><circle r="3" cx="15" cy="3" fill="white"></circle><circle r="3" cx="27" cy="3" fill="white"></circle></svg></button>'},dt=16,wn="[data-footnote-button]",Fe="[data-footnote-id]",An="[data-footnote-popover]",qe=(o,n)=>o.target.closest(n),Qt=o=>o==null?void 0:o.dataset.footnoteId,ht=o=>n=>{n.preventDefault();const e=qe(n,Fe),t=Qt(e);t&&o(t)},ue=document.addEventListener,pt=window.addEventListener,ft=(o,n,e,t)=>ue(o,i=>{const r=i.target;r!=null&&r.closest(n)&&e.call(r,i)},t);function $n(o={}){const n=Object.assign(Object.assign({},_n),o),e=function({footnotes:i,unmount:r},s){const a=u=>p=>{p.isReady()&&(p.dismiss(s.dismissCallback),setTimeout(p.remove,u))},l=u=>p=>{s.allowMultiple||i.filter(y=>y.id!==p.id).forEach(a(s.dismissDelay)),p.isReady()&&(p.activate(s.activateCallback),p.reposition(),p.resize(),setTimeout(p.ready,u))},c=u=>p=>{const y=i.find(b=>b.id===p);y&&u(y)},d=()=>i.forEach(a(s.dismissDelay));return{activate:(u,p)=>c(l(p))(u),dismiss:(u,p)=>c(a(p))(u),dismissAll:d,touchOutside:()=>{s.dismissOnDocumentTouch&&d()},repositionAll:()=>i.forEach(u=>u.reposition()),resizeAll:()=>i.forEach(u=>u.resize()),toggle:c(u=>u.isActive()?a(s.dismissDelay)(u):l(s.activateDelay)(u)),hover:c(u=>{u.startHovering(),s.activateOnHover&&!u.isActive()&&l(s.hoverDelay)(u)}),unhover:c(u=>{u.stopHovering(),s.dismissOnUnhover&&setTimeout(()=>i.filter(p=>!p.isHovered()).forEach(a(s.dismissDelay)),s.hoverDelay)}),unmount:r}}(En(n),n),t=function(i){const r=p=>{const y=qe(p,wn),b=Qt(y);b?(p.preventDefault(),i.toggle(b)):qe(p,An)||i.touchOutside()},s=Qe(i.repositionAll,dt),a=Qe(i.resizeAll,dt),l=ht(i.hover),c=ht(i.unhover),d=new AbortController,u={signal:d.signal};return ue("touchend",r,u),ue("click",r,u),ue("keyup",p=>{p.keyCode!==27&&p.key!=="Escape"&&p.key!=="Esc"||i.dismissAll()},u),ue("gestureend",s,u),pt("scroll",s,u),pt("resize",a,u),ft("mouseover",Fe,l,u),ft("mouseout",Fe,c,u),()=>{d.abort()}}(e);return{activate(i,r=n.activateDelay){e.activate(i,r)},dismiss(i,r=n.dismissDelay){i===void 0?e.dismissAll():e.dismiss(i,r)},unmount(){t(),e.unmount()},getSetting:i=>n[i],updateSetting(i,r){n[i]=r}}}var Dt=Dt||{};Dt.Widget=function(o){function n(t){if(e[t])return e[t].exports;var i=e[t]={exports:{},id:t,loaded:!1};return o[t].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=o,n.c=e,n.p="",n(0)}([function(o,n,e){function t(h){return!!(h===""||h&&h.charCodeAt&&h.substr)}function i(h){return!!(h&&h.constructor&&h.call&&h.apply)}function r(h){return!(!h||h.nodeType!==1||h.nodeName.toUpperCase()!=="IFRAME")}function s(h){var g,v=!1;for(g in q)if(q.hasOwnProperty(g)&&q[g]===h){v=!0;break}return v}function a(h){var g,v,f;for(g=0,v=H.length;g<v&&(f=h(H[g]),f!==!1);g++);}function l(h){var g,v,f,x="";for(h.substr(0,2)==="//"&&(h=window.location.protocol+h),f=h.split("/"),g=0,v=f.length;g<v&&g<3;g++)x+=f[g],g<2&&(x+="/");return x}function c(h){return h.contentWindow?h.contentWindow:h.contentDocument&&"parentWindow"in h.contentDocument?h.contentDocument.parentWindow:null}function d(h){var g,v=[];for(g in h)h.hasOwnProperty(g)&&v.push(h[g]);return v}function u(h,g,v){v.callbacks[h]=v.callbacks[h]||[],v.callbacks[h].push(g)}function p(h,g){var v,f=!0;return g.callbacks[h]=[],a(function(x){if(v=x.callbacks[h]||[],v.length)return f=!1,!1}),f}function y(h,g,v){var f,x,$=c(v);return!!$.postMessage&&(f=v.getAttribute("src").split("?")[0],x=JSON.stringify({method:h,value:g}),f.substr(0,2)==="//"&&(f=window.location.protocol+f),f=f.replace(/http:\/\/(w|wt).soundcloud.com/,"https://$1.soundcloud.com"),void $.postMessage(x,f))}function b(h){var g;return a(function(v){if(v.instance===h)return g=v,!1}),g}function w(h){var g;return a(function(v){if(c(v.element)===h)return g=v,!1}),g}function A(h,g){return function(v){var f=i(v),x=b(this),$=!f&&g?v:null,Q=f&&!g?v:null;return Q&&u(h,Q,x),y(h,$,x.element),this}}function E(h,g,v){var f,x,$;for(f=0,x=g.length;f<x;f++)$=g[f],h[$]=A($,v)}function S(h,g,v){return h+"?url="+g+"&"+_(v)}function _(h){var g,v,f=[];for(g in h)h.hasOwnProperty(g)&&(v=h[g],f.push(g+"="+(g==="start_track"?parseInt(v,10):v?"true":"false")));return f.join("&")}function P(h,g,v){var f,x,$=h.callbacks[g]||[];for(f=0,x=$.length;f<x;f++)$[f].apply(h.instance,v);(s(g)||g===T.READY)&&(h.callbacks[g]=[])}function I(h){var g,v,f,x,$;try{v=JSON.parse(h.data)}catch{return!1}return g=w(h.source),f=v.method,x=v.value,(!g||R(h.origin)===R(g.domain))&&(g?(f===T.READY&&(g.isReady=!0,P(g,B),p(B,g)),f!==T.PLAY||g.playEventFired||(g.playEventFired=!0),f!==T.PLAY_PROGRESS||g.playEventFired||(g.playEventFired=!0,P(g,T.PLAY,[x])),$=[],x!==void 0&&$.push(x),void P(g,f,$)):(f===T.READY&&J.push(h.source),!1))}function R(h){return h.replace(m,"")}var O,W,F,G=e(1),q=e(2),Y=e(3),T=G.api,D=G.bridge,J=[],H=[],B="__LATE_BINDING__",U="http://wt.soundcloud.test:9200/",m=/^http(?:s?)/;window.addEventListener?window.addEventListener("message",I,!1):window.attachEvent("onmessage",I),o.exports=F=function(h,g,v){if(t(h)&&(h=document.getElementById(h)),!r(h))throw new Error("SC.Widget function should be given either iframe element or a string specifying id attribute of iframe element.");g&&(v=v||{},h.src=S(U,g,v));var f,x,$=w(c(h));return $&&$.instance?$.instance:(f=J.indexOf(c(h))>-1,x=new O(h),H.push(new W(x,h,f)),x)},F.Events=T,window.SC=window.SC||{},window.SC.Widget=F,W=function(h,g,v){this.instance=h,this.element=g,this.domain=l(g.getAttribute("src")),this.isReady=!!v,this.callbacks={}},O=function(){},O.prototype={constructor:O,load:function(h,g){if(h){g=g||{};var v=this,f=b(this),x=f.element,$=x.src,Q=$.substr(0,$.indexOf("?"));f.isReady=!1,f.playEventFired=!1,x.onload=function(){v.bind(T.READY,function(){var C,pe=f.callbacks;for(C in pe)pe.hasOwnProperty(C)&&C!==T.READY&&y(D.ADD_LISTENER,C,f.element);g.callback&&g.callback()})},x.src=S(Q,h,g)}},bind:function(h,g){var v=this,f=b(this);return f&&f.element&&(h===T.READY&&f.isReady?setTimeout(g,1):f.isReady?(u(h,g,f),y(D.ADD_LISTENER,h,f.element)):u(B,function(){v.bind(h,g)},f)),this},unbind:function(h){var g,v=b(this);v&&v.element&&(g=p(h,v),h!==T.READY&&g&&y(D.REMOVE_LISTENER,h,v.element))}},E(O.prototype,d(q)),E(O.prototype,d(Y),!0)},function(o,n){n.api={LOAD_PROGRESS:"loadProgress",PLAY_PROGRESS:"playProgress",PLAY:"play",PAUSE:"pause",FINISH:"finish",SEEK:"seek",READY:"ready",OPEN_SHARE_PANEL:"sharePanelOpened",CLICK_DOWNLOAD:"downloadClicked",CLICK_BUY:"buyClicked",ERROR:"error"},n.bridge={REMOVE_LISTENER:"removeEventListener",ADD_LISTENER:"addEventListener"}},function(o,n){o.exports={GET_VOLUME:"getVolume",GET_DURATION:"getDuration",GET_POSITION:"getPosition",GET_SOUNDS:"getSounds",GET_CURRENT_SOUND:"getCurrentSound",GET_CURRENT_SOUND_INDEX:"getCurrentSoundIndex",IS_PAUSED:"isPaused"}},function(o,n){o.exports={PLAY:"play",PAUSE:"pause",TOGGLE:"toggle",SEEK_TO:"seekTo",SET_VOLUME:"setVolume",NEXT:"next",PREV:"prev",SKIP:"skip"}}]);function Ln(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Nt={exports:{}};/**
 * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 2.3.9
 * Copyright (C) 2020 Oliver Nightingale
 * @license MIT
 */(function(o,n){(function(){var e=function(t){var i=new e.Builder;return i.pipeline.add(e.trimmer,e.stopWordFilter,e.stemmer),i.searchPipeline.add(e.stemmer),t.call(i,i),i.build()};e.version="2.3.9";/*!
 * lunr.utils
 * Copyright (C) 2020 Oliver Nightingale
 */e.utils={},e.utils.warn=function(t){return function(i){t.console&&console.warn&&console.warn(i)}}(this),e.utils.asString=function(t){return t==null?"":t.toString()},e.utils.clone=function(t){if(t==null)return t;for(var i=Object.create(null),r=Object.keys(t),s=0;s<r.length;s++){var a=r[s],l=t[a];if(Array.isArray(l)){i[a]=l.slice();continue}if(typeof l=="string"||typeof l=="number"||typeof l=="boolean"){i[a]=l;continue}throw new TypeError("clone is not deep and does not support nested objects")}return i},e.FieldRef=function(t,i,r){this.docRef=t,this.fieldName=i,this._stringValue=r},e.FieldRef.joiner="/",e.FieldRef.fromString=function(t){var i=t.indexOf(e.FieldRef.joiner);if(i===-1)throw"malformed field ref string";var r=t.slice(0,i),s=t.slice(i+1);return new e.FieldRef(s,r,t)},e.FieldRef.prototype.toString=function(){return this._stringValue==null&&(this._stringValue=this.fieldName+e.FieldRef.joiner+this.docRef),this._stringValue};/*!
 * lunr.Set
 * Copyright (C) 2020 Oliver Nightingale
 */e.Set=function(t){if(this.elements=Object.create(null),t){this.length=t.length;for(var i=0;i<this.length;i++)this.elements[t[i]]=!0}else this.length=0},e.Set.complete={intersect:function(t){return t},union:function(){return this},contains:function(){return!0}},e.Set.empty={intersect:function(){return this},union:function(t){return t},contains:function(){return!1}},e.Set.prototype.contains=function(t){return!!this.elements[t]},e.Set.prototype.intersect=function(t){var i,r,s,a=[];if(t===e.Set.complete)return this;if(t===e.Set.empty)return t;this.length<t.length?(i=this,r=t):(i=t,r=this),s=Object.keys(i.elements);for(var l=0;l<s.length;l++){var c=s[l];c in r.elements&&a.push(c)}return new e.Set(a)},e.Set.prototype.union=function(t){return t===e.Set.complete?e.Set.complete:t===e.Set.empty?this:new e.Set(Object.keys(this.elements).concat(Object.keys(t.elements)))},e.idf=function(t,i){var r=0;for(var s in t)s!="_index"&&(r+=Object.keys(t[s]).length);var a=(i-r+.5)/(r+.5);return Math.log(1+Math.abs(a))},e.Token=function(t,i){this.str=t||"",this.metadata=i||{}},e.Token.prototype.toString=function(){return this.str},e.Token.prototype.update=function(t){return this.str=t(this.str,this.metadata),this},e.Token.prototype.clone=function(t){return t=t||function(i){return i},new e.Token(t(this.str,this.metadata),this.metadata)};/*!
 * lunr.tokenizer
 * Copyright (C) 2020 Oliver Nightingale
 */e.tokenizer=function(t,i){if(t==null||t==null)return[];if(Array.isArray(t))return t.map(function(y){return new e.Token(e.utils.asString(y).toLowerCase(),e.utils.clone(i))});for(var r=t.toString().toLowerCase(),s=r.length,a=[],l=0,c=0;l<=s;l++){var d=r.charAt(l),u=l-c;if(d.match(e.tokenizer.separator)||l==s){if(u>0){var p=e.utils.clone(i)||{};p.position=[c,u],p.index=a.length,a.push(new e.Token(r.slice(c,l),p))}c=l+1}}return a},e.tokenizer.separator=/[\s\-]+/;/*!
 * lunr.Pipeline
 * Copyright (C) 2020 Oliver Nightingale
 */e.Pipeline=function(){this._stack=[]},e.Pipeline.registeredFunctions=Object.create(null),e.Pipeline.registerFunction=function(t,i){i in this.registeredFunctions&&e.utils.warn("Overwriting existing registered function: "+i),t.label=i,e.Pipeline.registeredFunctions[t.label]=t},e.Pipeline.warnIfFunctionNotRegistered=function(t){var i=t.label&&t.label in this.registeredFunctions;i||e.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,t)},e.Pipeline.load=function(t){var i=new e.Pipeline;return t.forEach(function(r){var s=e.Pipeline.registeredFunctions[r];if(s)i.add(s);else throw new Error("Cannot load unregistered function: "+r)}),i},e.Pipeline.prototype.add=function(){var t=Array.prototype.slice.call(arguments);t.forEach(function(i){e.Pipeline.warnIfFunctionNotRegistered(i),this._stack.push(i)},this)},e.Pipeline.prototype.after=function(t,i){e.Pipeline.warnIfFunctionNotRegistered(i);var r=this._stack.indexOf(t);if(r==-1)throw new Error("Cannot find existingFn");r=r+1,this._stack.splice(r,0,i)},e.Pipeline.prototype.before=function(t,i){e.Pipeline.warnIfFunctionNotRegistered(i);var r=this._stack.indexOf(t);if(r==-1)throw new Error("Cannot find existingFn");this._stack.splice(r,0,i)},e.Pipeline.prototype.remove=function(t){var i=this._stack.indexOf(t);i!=-1&&this._stack.splice(i,1)},e.Pipeline.prototype.run=function(t){for(var i=this._stack.length,r=0;r<i;r++){for(var s=this._stack[r],a=[],l=0;l<t.length;l++){var c=s(t[l],l,t);if(!(c==null||c===""))if(Array.isArray(c))for(var d=0;d<c.length;d++)a.push(c[d]);else a.push(c)}t=a}return t},e.Pipeline.prototype.runString=function(t,i){var r=new e.Token(t,i);return this.run([r]).map(function(s){return s.toString()})},e.Pipeline.prototype.reset=function(){this._stack=[]},e.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return e.Pipeline.warnIfFunctionNotRegistered(t),t.label})};/*!
 * lunr.Vector
 * Copyright (C) 2020 Oliver Nightingale
 */e.Vector=function(t){this._magnitude=0,this.elements=t||[]},e.Vector.prototype.positionForIndex=function(t){if(this.elements.length==0)return 0;for(var i=0,r=this.elements.length/2,s=r-i,a=Math.floor(s/2),l=this.elements[a*2];s>1&&(l<t&&(i=a),l>t&&(r=a),l!=t);)s=r-i,a=i+Math.floor(s/2),l=this.elements[a*2];if(l==t||l>t)return a*2;if(l<t)return(a+1)*2},e.Vector.prototype.insert=function(t,i){this.upsert(t,i,function(){throw"duplicate index"})},e.Vector.prototype.upsert=function(t,i,r){this._magnitude=0;var s=this.positionForIndex(t);this.elements[s]==t?this.elements[s+1]=r(this.elements[s+1],i):this.elements.splice(s,0,t,i)},e.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t=0,i=this.elements.length,r=1;r<i;r+=2){var s=this.elements[r];t+=s*s}return this._magnitude=Math.sqrt(t)},e.Vector.prototype.dot=function(t){for(var i=0,r=this.elements,s=t.elements,a=r.length,l=s.length,c=0,d=0,u=0,p=0;u<a&&p<l;)c=r[u],d=s[p],c<d?u+=2:c>d?p+=2:c==d&&(i+=r[u+1]*s[p+1],u+=2,p+=2);return i},e.Vector.prototype.similarity=function(t){return this.dot(t)/this.magnitude()||0},e.Vector.prototype.toArray=function(){for(var t=new Array(this.elements.length/2),i=1,r=0;i<this.elements.length;i+=2,r++)t[r]=this.elements[i];return t},e.Vector.prototype.toJSON=function(){return this.elements};/*!
 * lunr.stemmer
 * Copyright (C) 2020 Oliver Nightingale
 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 */e.stemmer=function(){var t={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},i={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},r="[^aeiou]",s="[aeiouy]",a=r+"[^aeiouy]*",l=s+"[aeiou]*",c="^("+a+")?"+l+a,d="^("+a+")?"+l+a+"("+l+")?$",u="^("+a+")?"+l+a+l+a,p="^("+a+")?"+s,y=new RegExp(c),b=new RegExp(u),w=new RegExp(d),A=new RegExp(p),E=/^(.+?)(ss|i)es$/,S=/^(.+?)([^s])s$/,_=/^(.+?)eed$/,P=/^(.+?)(ed|ing)$/,I=/.$/,R=/(at|bl|iz)$/,O=new RegExp("([^aeiouylsz])\\1$"),W=new RegExp("^"+a+s+"[^aeiouwxy]$"),F=/^(.+?[^aeiou])y$/,G=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,q=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,Y=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,T=/^(.+?)(s|t)(ion)$/,D=/^(.+?)e$/,J=/ll$/,H=new RegExp("^"+a+s+"[^aeiouwxy]$"),B=function(m){var h,g,v,f,x,$,Q;if(m.length<3)return m;if(v=m.substr(0,1),v=="y"&&(m=v.toUpperCase()+m.substr(1)),f=E,x=S,f.test(m)?m=m.replace(f,"$1$2"):x.test(m)&&(m=m.replace(x,"$1$2")),f=_,x=P,f.test(m)){var C=f.exec(m);f=y,f.test(C[1])&&(f=I,m=m.replace(f,""))}else if(x.test(m)){var C=x.exec(m);h=C[1],x=A,x.test(h)&&(m=h,x=R,$=O,Q=W,x.test(m)?m=m+"e":$.test(m)?(f=I,m=m.replace(f,"")):Q.test(m)&&(m=m+"e"))}if(f=F,f.test(m)){var C=f.exec(m);h=C[1],m=h+"i"}if(f=G,f.test(m)){var C=f.exec(m);h=C[1],g=C[2],f=y,f.test(h)&&(m=h+t[g])}if(f=q,f.test(m)){var C=f.exec(m);h=C[1],g=C[2],f=y,f.test(h)&&(m=h+i[g])}if(f=Y,x=T,f.test(m)){var C=f.exec(m);h=C[1],f=b,f.test(h)&&(m=h)}else if(x.test(m)){var C=x.exec(m);h=C[1]+C[2],x=b,x.test(h)&&(m=h)}if(f=D,f.test(m)){var C=f.exec(m);h=C[1],f=b,x=w,$=H,(f.test(h)||x.test(h)&&!$.test(h))&&(m=h)}return f=J,x=b,f.test(m)&&x.test(m)&&(f=I,m=m.replace(f,"")),v=="y"&&(m=v.toLowerCase()+m.substr(1)),m};return function(U){return U.update(B)}}(),e.Pipeline.registerFunction(e.stemmer,"stemmer");/*!
 * lunr.stopWordFilter
 * Copyright (C) 2020 Oliver Nightingale
 */e.generateStopWordFilter=function(t){var i=t.reduce(function(r,s){return r[s]=s,r},{});return function(r){if(r&&i[r.toString()]!==r.toString())return r}},e.stopWordFilter=e.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),e.Pipeline.registerFunction(e.stopWordFilter,"stopWordFilter");/*!
 * lunr.trimmer
 * Copyright (C) 2020 Oliver Nightingale
 */e.trimmer=function(t){return t.update(function(i){return i.replace(/^\W+/,"").replace(/\W+$/,"")})},e.Pipeline.registerFunction(e.trimmer,"trimmer");/*!
 * lunr.TokenSet
 * Copyright (C) 2020 Oliver Nightingale
 */e.TokenSet=function(){this.final=!1,this.edges={},this.id=e.TokenSet._nextId,e.TokenSet._nextId+=1},e.TokenSet._nextId=1,e.TokenSet.fromArray=function(t){for(var i=new e.TokenSet.Builder,r=0,s=t.length;r<s;r++)i.insert(t[r]);return i.finish(),i.root},e.TokenSet.fromClause=function(t){return"editDistance"in t?e.TokenSet.fromFuzzyString(t.term,t.editDistance):e.TokenSet.fromString(t.term)},e.TokenSet.fromFuzzyString=function(t,i){for(var r=new e.TokenSet,s=[{node:r,editsRemaining:i,str:t}];s.length;){var a=s.pop();if(a.str.length>0){var l=a.str.charAt(0),c;l in a.node.edges?c=a.node.edges[l]:(c=new e.TokenSet,a.node.edges[l]=c),a.str.length==1&&(c.final=!0),s.push({node:c,editsRemaining:a.editsRemaining,str:a.str.slice(1)})}if(a.editsRemaining!=0){if("*"in a.node.edges)var d=a.node.edges["*"];else{var d=new e.TokenSet;a.node.edges["*"]=d}if(a.str.length==0&&(d.final=!0),s.push({node:d,editsRemaining:a.editsRemaining-1,str:a.str}),a.str.length>1&&s.push({node:a.node,editsRemaining:a.editsRemaining-1,str:a.str.slice(1)}),a.str.length==1&&(a.node.final=!0),a.str.length>=1){if("*"in a.node.edges)var u=a.node.edges["*"];else{var u=new e.TokenSet;a.node.edges["*"]=u}a.str.length==1&&(u.final=!0),s.push({node:u,editsRemaining:a.editsRemaining-1,str:a.str.slice(1)})}if(a.str.length>1){var p=a.str.charAt(0),y=a.str.charAt(1),b;y in a.node.edges?b=a.node.edges[y]:(b=new e.TokenSet,a.node.edges[y]=b),a.str.length==1&&(b.final=!0),s.push({node:b,editsRemaining:a.editsRemaining-1,str:p+a.str.slice(2)})}}}return r},e.TokenSet.fromString=function(t){for(var i=new e.TokenSet,r=i,s=0,a=t.length;s<a;s++){var l=t[s],c=s==a-1;if(l=="*")i.edges[l]=i,i.final=c;else{var d=new e.TokenSet;d.final=c,i.edges[l]=d,i=d}}return r},e.TokenSet.prototype.toArray=function(){for(var t=[],i=[{prefix:"",node:this}];i.length;){var r=i.pop(),s=Object.keys(r.node.edges),a=s.length;r.node.final&&(r.prefix.charAt(0),t.push(r.prefix));for(var l=0;l<a;l++){var c=s[l];i.push({prefix:r.prefix.concat(c),node:r.node.edges[c]})}}return t},e.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var t=this.final?"1":"0",i=Object.keys(this.edges).sort(),r=i.length,s=0;s<r;s++){var a=i[s],l=this.edges[a];t=t+a+l.id}return t},e.TokenSet.prototype.intersect=function(t){for(var i=new e.TokenSet,r=void 0,s=[{qNode:t,output:i,node:this}];s.length;){r=s.pop();for(var a=Object.keys(r.qNode.edges),l=a.length,c=Object.keys(r.node.edges),d=c.length,u=0;u<l;u++)for(var p=a[u],y=0;y<d;y++){var b=c[y];if(b==p||p=="*"){var w=r.node.edges[b],A=r.qNode.edges[p],E=w.final&&A.final,S=void 0;b in r.output.edges?(S=r.output.edges[b],S.final=S.final||E):(S=new e.TokenSet,S.final=E,r.output.edges[b]=S),s.push({qNode:A,output:S,node:w})}}}return i},e.TokenSet.Builder=function(){this.previousWord="",this.root=new e.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},e.TokenSet.Builder.prototype.insert=function(t){var i,r=0;if(t<this.previousWord)throw new Error("Out of order word insertion");for(var s=0;s<t.length&&s<this.previousWord.length&&t[s]==this.previousWord[s];s++)r++;this.minimize(r),this.uncheckedNodes.length==0?i=this.root:i=this.uncheckedNodes[this.uncheckedNodes.length-1].child;for(var s=r;s<t.length;s++){var a=new e.TokenSet,l=t[s];i.edges[l]=a,this.uncheckedNodes.push({parent:i,char:l,child:a}),i=a}i.final=!0,this.previousWord=t},e.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},e.TokenSet.Builder.prototype.minimize=function(t){for(var i=this.uncheckedNodes.length-1;i>=t;i--){var r=this.uncheckedNodes[i],s=r.child.toString();s in this.minimizedNodes?r.parent.edges[r.char]=this.minimizedNodes[s]:(r.child._str=s,this.minimizedNodes[s]=r.child),this.uncheckedNodes.pop()}};/*!
 * lunr.Index
 * Copyright (C) 2020 Oliver Nightingale
 */e.Index=function(t){this.invertedIndex=t.invertedIndex,this.fieldVectors=t.fieldVectors,this.tokenSet=t.tokenSet,this.fields=t.fields,this.pipeline=t.pipeline},e.Index.prototype.search=function(t){return this.query(function(i){var r=new e.QueryParser(t,i);r.parse()})},e.Index.prototype.query=function(t){for(var i=new e.Query(this.fields),r=Object.create(null),s=Object.create(null),a=Object.create(null),l=Object.create(null),c=Object.create(null),d=0;d<this.fields.length;d++)s[this.fields[d]]=new e.Vector;t.call(i,i);for(var d=0;d<i.clauses.length;d++){var u=i.clauses[d],p=null,y=e.Set.empty;u.usePipeline?p=this.pipeline.runString(u.term,{fields:u.fields}):p=[u.term];for(var b=0;b<p.length;b++){var w=p[b];u.term=w;var A=e.TokenSet.fromClause(u),E=this.tokenSet.intersect(A).toArray();if(E.length===0&&u.presence===e.Query.presence.REQUIRED){for(var S=0;S<u.fields.length;S++){var _=u.fields[S];l[_]=e.Set.empty}break}for(var P=0;P<E.length;P++)for(var I=E[P],R=this.invertedIndex[I],O=R._index,S=0;S<u.fields.length;S++){var _=u.fields[S],W=R[_],F=Object.keys(W),G=I+"/"+_,q=new e.Set(F);if(u.presence==e.Query.presence.REQUIRED&&(y=y.union(q),l[_]===void 0&&(l[_]=e.Set.complete)),u.presence==e.Query.presence.PROHIBITED){c[_]===void 0&&(c[_]=e.Set.empty),c[_]=c[_].union(q);continue}if(s[_].upsert(O,u.boost,function(qt,Bt){return qt+Bt}),!a[G]){for(var Y=0;Y<F.length;Y++){var T=F[Y],D=new e.FieldRef(T,_),J=W[T],H;(H=r[D])===void 0?r[D]=new e.MatchData(I,_,J):H.add(I,_,J)}a[G]=!0}}}if(u.presence===e.Query.presence.REQUIRED)for(var S=0;S<u.fields.length;S++){var _=u.fields[S];l[_]=l[_].intersect(y)}}for(var B=e.Set.complete,U=e.Set.empty,d=0;d<this.fields.length;d++){var _=this.fields[d];l[_]&&(B=B.intersect(l[_])),c[_]&&(U=U.union(c[_]))}var m=Object.keys(r),h=[],g=Object.create(null);if(i.isNegated()){m=Object.keys(this.fieldVectors);for(var d=0;d<m.length;d++){var D=m[d],v=e.FieldRef.fromString(D);r[D]=new e.MatchData}}for(var d=0;d<m.length;d++){var v=e.FieldRef.fromString(m[d]),f=v.docRef;if(B.contains(f)&&!U.contains(f)){var x=this.fieldVectors[v],$=s[v.fieldName].similarity(x),Q;if((Q=g[f])!==void 0)Q.score+=$,Q.matchData.combine(r[v]);else{var C={ref:f,score:$,matchData:r[v]};g[f]=C,h.push(C)}}}return h.sort(function(pe,Ft){return Ft.score-pe.score})},e.Index.prototype.toJSON=function(){var t=Object.keys(this.invertedIndex).sort().map(function(r){return[r,this.invertedIndex[r]]},this),i=Object.keys(this.fieldVectors).map(function(r){return[r,this.fieldVectors[r].toJSON()]},this);return{version:e.version,fields:this.fields,fieldVectors:i,invertedIndex:t,pipeline:this.pipeline.toJSON()}},e.Index.load=function(t){var i={},r={},s=t.fieldVectors,a=Object.create(null),l=t.invertedIndex,c=new e.TokenSet.Builder,d=e.Pipeline.load(t.pipeline);t.version!=e.version&&e.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+e.version+"' does not match serialized index '"+t.version+"'");for(var u=0;u<s.length;u++){var p=s[u],y=p[0],b=p[1];r[y]=new e.Vector(b)}for(var u=0;u<l.length;u++){var p=l[u],w=p[0],A=p[1];c.insert(w),a[w]=A}return c.finish(),i.fields=t.fields,i.fieldVectors=r,i.invertedIndex=a,i.tokenSet=c.root,i.pipeline=d,new e.Index(i)};/*!
 * lunr.Builder
 * Copyright (C) 2020 Oliver Nightingale
 */e.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=e.tokenizer,this.pipeline=new e.Pipeline,this.searchPipeline=new e.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},e.Builder.prototype.ref=function(t){this._ref=t},e.Builder.prototype.field=function(t,i){if(/\//.test(t))throw new RangeError("Field '"+t+"' contains illegal character '/'");this._fields[t]=i||{}},e.Builder.prototype.b=function(t){t<0?this._b=0:t>1?this._b=1:this._b=t},e.Builder.prototype.k1=function(t){this._k1=t},e.Builder.prototype.add=function(t,i){var r=t[this._ref],s=Object.keys(this._fields);this._documents[r]=i||{},this.documentCount+=1;for(var a=0;a<s.length;a++){var l=s[a],c=this._fields[l].extractor,d=c?c(t):t[l],u=this.tokenizer(d,{fields:[l]}),p=this.pipeline.run(u),y=new e.FieldRef(r,l),b=Object.create(null);this.fieldTermFrequencies[y]=b,this.fieldLengths[y]=0,this.fieldLengths[y]+=p.length;for(var w=0;w<p.length;w++){var A=p[w];if(b[A]==null&&(b[A]=0),b[A]+=1,this.invertedIndex[A]==null){var E=Object.create(null);E._index=this.termIndex,this.termIndex+=1;for(var S=0;S<s.length;S++)E[s[S]]=Object.create(null);this.invertedIndex[A]=E}this.invertedIndex[A][l][r]==null&&(this.invertedIndex[A][l][r]=Object.create(null));for(var _=0;_<this.metadataWhitelist.length;_++){var P=this.metadataWhitelist[_],I=A.metadata[P];this.invertedIndex[A][l][r][P]==null&&(this.invertedIndex[A][l][r][P]=[]),this.invertedIndex[A][l][r][P].push(I)}}}},e.Builder.prototype.calculateAverageFieldLengths=function(){for(var t=Object.keys(this.fieldLengths),i=t.length,r={},s={},a=0;a<i;a++){var l=e.FieldRef.fromString(t[a]),c=l.fieldName;s[c]||(s[c]=0),s[c]+=1,r[c]||(r[c]=0),r[c]+=this.fieldLengths[l]}for(var d=Object.keys(this._fields),a=0;a<d.length;a++){var u=d[a];r[u]=r[u]/s[u]}this.averageFieldLength=r},e.Builder.prototype.createFieldVectors=function(){for(var t={},i=Object.keys(this.fieldTermFrequencies),r=i.length,s=Object.create(null),a=0;a<r;a++){for(var l=e.FieldRef.fromString(i[a]),c=l.fieldName,d=this.fieldLengths[l],u=new e.Vector,p=this.fieldTermFrequencies[l],y=Object.keys(p),b=y.length,w=this._fields[c].boost||1,A=this._documents[l.docRef].boost||1,E=0;E<b;E++){var S=y[E],_=p[S],P=this.invertedIndex[S]._index,I,R,O;s[S]===void 0?(I=e.idf(this.invertedIndex[S],this.documentCount),s[S]=I):I=s[S],R=I*((this._k1+1)*_)/(this._k1*(1-this._b+this._b*(d/this.averageFieldLength[c]))+_),R*=w,R*=A,O=Math.round(R*1e3)/1e3,u.insert(P,O)}t[l]=u}this.fieldVectors=t},e.Builder.prototype.createTokenSet=function(){this.tokenSet=e.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},e.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new e.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},e.Builder.prototype.use=function(t){var i=Array.prototype.slice.call(arguments,1);i.unshift(this),t.apply(this,i)},e.MatchData=function(t,i,r){for(var s=Object.create(null),a=Object.keys(r||{}),l=0;l<a.length;l++){var c=a[l];s[c]=r[c].slice()}this.metadata=Object.create(null),t!==void 0&&(this.metadata[t]=Object.create(null),this.metadata[t][i]=s)},e.MatchData.prototype.combine=function(t){for(var i=Object.keys(t.metadata),r=0;r<i.length;r++){var s=i[r],a=Object.keys(t.metadata[s]);this.metadata[s]==null&&(this.metadata[s]=Object.create(null));for(var l=0;l<a.length;l++){var c=a[l],d=Object.keys(t.metadata[s][c]);this.metadata[s][c]==null&&(this.metadata[s][c]=Object.create(null));for(var u=0;u<d.length;u++){var p=d[u];this.metadata[s][c][p]==null?this.metadata[s][c][p]=t.metadata[s][c][p]:this.metadata[s][c][p]=this.metadata[s][c][p].concat(t.metadata[s][c][p])}}}},e.MatchData.prototype.add=function(t,i,r){if(!(t in this.metadata)){this.metadata[t]=Object.create(null),this.metadata[t][i]=r;return}if(!(i in this.metadata[t])){this.metadata[t][i]=r;return}for(var s=Object.keys(r),a=0;a<s.length;a++){var l=s[a];l in this.metadata[t][i]?this.metadata[t][i][l]=this.metadata[t][i][l].concat(r[l]):this.metadata[t][i][l]=r[l]}},e.Query=function(t){this.clauses=[],this.allFields=t},e.Query.wildcard=new String("*"),e.Query.wildcard.NONE=0,e.Query.wildcard.LEADING=1,e.Query.wildcard.TRAILING=2,e.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},e.Query.prototype.clause=function(t){return"fields"in t||(t.fields=this.allFields),"boost"in t||(t.boost=1),"usePipeline"in t||(t.usePipeline=!0),"wildcard"in t||(t.wildcard=e.Query.wildcard.NONE),t.wildcard&e.Query.wildcard.LEADING&&t.term.charAt(0)!=e.Query.wildcard&&(t.term="*"+t.term),t.wildcard&e.Query.wildcard.TRAILING&&t.term.slice(-1)!=e.Query.wildcard&&(t.term=""+t.term+"*"),"presence"in t||(t.presence=e.Query.presence.OPTIONAL),this.clauses.push(t),this},e.Query.prototype.isNegated=function(){for(var t=0;t<this.clauses.length;t++)if(this.clauses[t].presence!=e.Query.presence.PROHIBITED)return!1;return!0},e.Query.prototype.term=function(t,i){if(Array.isArray(t))return t.forEach(function(s){this.term(s,e.utils.clone(i))},this),this;var r=i||{};return r.term=t.toString(),this.clause(r),this},e.QueryParseError=function(t,i,r){this.name="QueryParseError",this.message=t,this.start=i,this.end=r},e.QueryParseError.prototype=new Error,e.QueryLexer=function(t){this.lexemes=[],this.str=t,this.length=t.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},e.QueryLexer.prototype.run=function(){for(var t=e.QueryLexer.lexText;t;)t=t(this)},e.QueryLexer.prototype.sliceString=function(){for(var t=[],i=this.start,r=this.pos,s=0;s<this.escapeCharPositions.length;s++)r=this.escapeCharPositions[s],t.push(this.str.slice(i,r)),i=r+1;return t.push(this.str.slice(i,this.pos)),this.escapeCharPositions.length=0,t.join("")},e.QueryLexer.prototype.emit=function(t){this.lexemes.push({type:t,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},e.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},e.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return e.QueryLexer.EOS;var t=this.str.charAt(this.pos);return this.pos+=1,t},e.QueryLexer.prototype.width=function(){return this.pos-this.start},e.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},e.QueryLexer.prototype.backup=function(){this.pos-=1},e.QueryLexer.prototype.acceptDigitRun=function(){var t,i;do t=this.next(),i=t.charCodeAt(0);while(i>47&&i<58);t!=e.QueryLexer.EOS&&this.backup()},e.QueryLexer.prototype.more=function(){return this.pos<this.length},e.QueryLexer.EOS="EOS",e.QueryLexer.FIELD="FIELD",e.QueryLexer.TERM="TERM",e.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",e.QueryLexer.BOOST="BOOST",e.QueryLexer.PRESENCE="PRESENCE",e.QueryLexer.lexField=function(t){return t.backup(),t.emit(e.QueryLexer.FIELD),t.ignore(),e.QueryLexer.lexText},e.QueryLexer.lexTerm=function(t){if(t.width()>1&&(t.backup(),t.emit(e.QueryLexer.TERM)),t.ignore(),t.more())return e.QueryLexer.lexText},e.QueryLexer.lexEditDistance=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(e.QueryLexer.EDIT_DISTANCE),e.QueryLexer.lexText},e.QueryLexer.lexBoost=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(e.QueryLexer.BOOST),e.QueryLexer.lexText},e.QueryLexer.lexEOS=function(t){t.width()>0&&t.emit(e.QueryLexer.TERM)},e.QueryLexer.termSeparator=e.tokenizer.separator,e.QueryLexer.lexText=function(t){for(;;){var i=t.next();if(i==e.QueryLexer.EOS)return e.QueryLexer.lexEOS;if(i.charCodeAt(0)==92){t.escapeCharacter();continue}if(i==":")return e.QueryLexer.lexField;if(i=="~")return t.backup(),t.width()>0&&t.emit(e.QueryLexer.TERM),e.QueryLexer.lexEditDistance;if(i=="^")return t.backup(),t.width()>0&&t.emit(e.QueryLexer.TERM),e.QueryLexer.lexBoost;if(i=="+"&&t.width()===1||i=="-"&&t.width()===1)return t.emit(e.QueryLexer.PRESENCE),e.QueryLexer.lexText;if(i.match(e.QueryLexer.termSeparator))return e.QueryLexer.lexTerm}},e.QueryParser=function(t,i){this.lexer=new e.QueryLexer(t),this.query=i,this.currentClause={},this.lexemeIdx=0},e.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var t=e.QueryParser.parseClause;t;)t=t(this);return this.query},e.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},e.QueryParser.prototype.consumeLexeme=function(){var t=this.peekLexeme();return this.lexemeIdx+=1,t},e.QueryParser.prototype.nextClause=function(){var t=this.currentClause;this.query.clause(t),this.currentClause={}},e.QueryParser.parseClause=function(t){var i=t.peekLexeme();if(i!=null)switch(i.type){case e.QueryLexer.PRESENCE:return e.QueryParser.parsePresence;case e.QueryLexer.FIELD:return e.QueryParser.parseField;case e.QueryLexer.TERM:return e.QueryParser.parseTerm;default:var r="expected either a field or a term, found "+i.type;throw i.str.length>=1&&(r+=" with value '"+i.str+"'"),new e.QueryParseError(r,i.start,i.end)}},e.QueryParser.parsePresence=function(t){var i=t.consumeLexeme();if(i!=null){switch(i.str){case"-":t.currentClause.presence=e.Query.presence.PROHIBITED;break;case"+":t.currentClause.presence=e.Query.presence.REQUIRED;break;default:var r="unrecognised presence operator'"+i.str+"'";throw new e.QueryParseError(r,i.start,i.end)}var s=t.peekLexeme();if(s==null){var r="expecting term or field, found nothing";throw new e.QueryParseError(r,i.start,i.end)}switch(s.type){case e.QueryLexer.FIELD:return e.QueryParser.parseField;case e.QueryLexer.TERM:return e.QueryParser.parseTerm;default:var r="expecting term or field, found '"+s.type+"'";throw new e.QueryParseError(r,s.start,s.end)}}},e.QueryParser.parseField=function(t){var i=t.consumeLexeme();if(i!=null){if(t.query.allFields.indexOf(i.str)==-1){var r=t.query.allFields.map(function(l){return"'"+l+"'"}).join(", "),s="unrecognised field '"+i.str+"', possible fields: "+r;throw new e.QueryParseError(s,i.start,i.end)}t.currentClause.fields=[i.str];var a=t.peekLexeme();if(a==null){var s="expecting term, found nothing";throw new e.QueryParseError(s,i.start,i.end)}switch(a.type){case e.QueryLexer.TERM:return e.QueryParser.parseTerm;default:var s="expecting term, found '"+a.type+"'";throw new e.QueryParseError(s,a.start,a.end)}}},e.QueryParser.parseTerm=function(t){var i=t.consumeLexeme();if(i!=null){t.currentClause.term=i.str.toLowerCase(),i.str.indexOf("*")!=-1&&(t.currentClause.usePipeline=!1);var r=t.peekLexeme();if(r==null){t.nextClause();return}switch(r.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;case e.QueryLexer.PRESENCE:return t.nextClause(),e.QueryParser.parsePresence;default:var s="Unexpected lexeme type '"+r.type+"'";throw new e.QueryParseError(s,r.start,r.end)}}},e.QueryParser.parseEditDistance=function(t){var i=t.consumeLexeme();if(i!=null){var r=parseInt(i.str,10);if(isNaN(r)){var s="edit distance must be numeric";throw new e.QueryParseError(s,i.start,i.end)}t.currentClause.editDistance=r;var a=t.peekLexeme();if(a==null){t.nextClause();return}switch(a.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;case e.QueryLexer.PRESENCE:return t.nextClause(),e.QueryParser.parsePresence;default:var s="Unexpected lexeme type '"+a.type+"'";throw new e.QueryParseError(s,a.start,a.end)}}},e.QueryParser.parseBoost=function(t){var i=t.consumeLexeme();if(i!=null){var r=parseInt(i.str,10);if(isNaN(r)){var s="boost must be numeric";throw new e.QueryParseError(s,i.start,i.end)}t.currentClause.boost=r;var a=t.peekLexeme();if(a==null){t.nextClause();return}switch(a.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;case e.QueryLexer.PRESENCE:return t.nextClause(),e.QueryParser.parsePresence;default:var s="Unexpected lexeme type '"+a.type+"'";throw new e.QueryParseError(s,a.start,a.end)}}},function(t,i){o.exports=i()}(this,function(){return e})})()})(Nt);var Cn=Nt.exports;const In=Ln(Cn);class kn{constructor(n){this.contentList=n,this.index=this.buildIndex(n)}buildIndex(n){return In(function(){this.field("abstract"),this.field("content"),this.field("contributor"),this.field("subtitle"),this.field("title"),this.field("url"),this.ref("url"),n.forEach(e=>{this.add(e)})})}search(n){return this.index.search(n).map(t=>this.contentList.find(({url:i})=>i===t.ref))}}window.toggleMenu=()=>{const o=document.getElementById("site-menu"),n=document.querySelector(".side-by-side > .quire-entry__image-wrap > .quire-entry__image"),e=o.getAttribute("aria-expanded");o.classList.toggle("is-expanded",!o.classList.contains("is-expanded")),e==="true"?(n&&n.classList.remove("menu_open"),o.setAttribute("aria-expanded","false")):(n&&n.classList.add("menu_open"),o.setAttribute("aria-expanded","true"))};window.toggleSearch=()=>{let o=document.getElementById("js-search"),n=document.getElementById("js-search-input"),e=o.getAttribute("aria-expanded");o.classList.toggle("is-active",!o.classList.contains("is-active")),e==="true"?o.setAttribute("aria-expanded","false"):(n.focus(),o.setAttribute("aria-expanded","true"))};window.search=()=>{let n=document.getElementById("js-search-input").value,e=window.QUIRE_SEARCH,t=document.getElementById("js-search-results-list"),i=document.getElementById("js-search-results-template");if(n.length>=3){let a=e.search(n);s(a)}function r(){t.innerText=""}function s(a){r(),a.forEach(l=>{let c=document.importNode(i.content,!0),d=c.querySelector(".js-search-results-item"),u=c.querySelector(".js-search-results-item-title"),p=c.querySelector(".js-search-results-item-type"),y=c.querySelector(".js-search-results-item-length");d.href=l.url,u.textContent=l.title,p.textContent=l.type,y.textContent=l.length,t.appendChild(c)})}};function Pn(o){const n=o.target.closest("a"),e=n.hash;n.pathname.includes(window.location.pathname)&&(o.preventDefault(),window.location.hash=e),Ue(e)}function Tn(){const n='a[href*="#"]'+['[href="#"]','[href="#0"]',".accordion-section__heading-link",".q-figure__modal-link"].map(t=>`:not(${t})`).join("");document.querySelectorAll(n).forEach(t=>{t.addEventListener("click",Pn)})}function On(){document.getElementById("container").classList.remove("no-js"),navigator.userAgent.match(/(iPad|iPhone|iPod)/i),navigator.userAgent.match(/android/i),Rn(),Tn()}function Rn(){const o=document.getElementById("js-search").dataset.searchIndex;if(!o){console.warn("Search data url is undefined");return}fetch(o).then(async n=>{const{ok:e,statusText:t,url:i}=n;if(!e){console.warn(`Search data ${t.toLowerCase()} at ${i}`);return}const r=await n.json();window.QUIRE_SEARCH=new kn(r)})}function Qn(o){const n={month:"long"},e=o.getMonth();let t;[4,5,6].includes(e)?t=o.toLocaleDateString("en-US",n).replace(/[^A-Za-z]+/,""):(t=t===8?"Sept":o.toLocaleDateString("en-US",n).slice(0,3),t+=".");const i=o.getDate(),r=o.getFullYear();return[i,t,r].join(" ")}function Dn(){const o=document.querySelectorAll(".cite-current-date"),n=Qn(new Date);o.forEach(e=>{e.innerHTML=n})}function Nn(o,n){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--gap")),t=o.getBoundingClientRect(),i=n.getBoundingClientRect(),r=i.left-t.left,s=t.right-i.right,a=t.width/2;s>0?o.style.transform=`translateX(-${a+s+e}px)`:r>0&&(o.style.transform=`translateX(-${a-r-e}px)`)}function Fn(){let o=document.querySelectorAll(".expandable [aria-expanded]");for(let n=0;n<o.length;n++)o[n].addEventListener("click",e=>{e.stopPropagation(),e.target.getAttribute("aria-expanded")==="false"?e.target.setAttribute("aria-expanded","true"):e.target.setAttribute("aria-expanded","false");let i=e.target.parentNode.querySelector(".quire-citation__content");i&&(i.getAttribute("hidden"),typeof i.getAttribute("hidden")=="string"?i.removeAttribute("hidden"):i.setAttribute("hidden","hidden"),Nn(i,document.documentElement))});document.addEventListener("click",n=>{let e=n.target.parentNode;if(e&&!(e.classList.contains("quire-citation")||e.classList.contains("quire-citation__content"))){let t=document.querySelectorAll(".quire-citation__button"),i=document.querySelectorAll(".quire-citation__content");if(!i)return;for(let r=0;r<i.length;r++){if(!t[r])return;t[r].setAttribute("aria-expanded","false"),i[r].setAttribute("hidden","hidden")}}})}function qn(){Dn(),Fn()}function Bn(){const o=new URL(window.location),n=[...new Set(o.searchParams.keys())];return Object.fromEntries(n.map(e=>[e,o.searchParams.getAll(e).map(decodeURIComponent)]))}On();window.addEventListener("load",()=>{qn(),Ue(window.location.hash);const o=Bn();L.setup(),un(),window.location.hash&&Te({figureId:window.location.hash.replace(/^#/,""),annotationIds:o["annotation-id"],region:o.region?o.region[0]:null,sequence:{index:o["sequence-index"]?o["sequence-index"][0]:null}})});$n({activateOnHover:!0,buttonTemplate:'<button aria-label="Footnote <% number %>" class="littlefoot__button" id="<% reference %>" title="See Footnote <% number %>" /> <% number %> </button>'});document.querySelectorAll("a.footnote-backref").forEach(function(o){var n=o.href;if(!/^\#lf-/.test(n)){var e=n.replace(/#/,"#lf-");o.href=e}});document.querySelectorAll("a.footnote-backref[data-href").forEach(function(o){addEventListener("click",function(n){var e=o.dataset.href;e&&(location.href=e)})});
//# sourceMappingURL=index-e63a7ab3.js.map
